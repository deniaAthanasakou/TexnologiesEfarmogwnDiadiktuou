<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link href="../bootstrap/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="../bootstrap/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../jQuery/jquery-3.2.1.min.js"></script>
		
		<script type="text/javascript" src="../bower_components/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="../bower_components/moment/min/moment.min.js"></script>
		<script type="text/javascript" src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
		<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		<link href="../css files/welcome.css" rel="stylesheet" />
		<link href="../css files/apartmentsList.css" rel="stylesheet" />
		
		
		<script language="JavaScript" type="text/javascript">
			function login(showhide){
				if(showhide == "show"){
					document.getElementById('popup').style.display="block";
				}
				else if(showhide == "hide"){
					document.getElementById('popup').style.display="none";
				}
			}
			
		</script>  
		
		<script>
            $(document).ready(function() { 
            	var xmlhttp;
	
	            if (window.XMLHttpRequest){  
	              xmlhttp=new XMLHttpRequest();
	            } else {
	              xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	            }
	
	            xmlhttp.open("GET", "../CheckLoggedUser", false);
	            xmlhttp.send();
	            var response = xmlhttp.responseText;
	            if(response=="1"){
	            	document.getElementById("register_login").style.display="none"; 
	            	document.getElementById("user_logged").style.display="block";  
	            }
	            else{
	            	document.getElementById("user_logged").style.display="none"; 
	            	document.getElementById("register_login").style.display="block"; 
	            }
	            
	        });
        </script>
        
        
        <script>
            $(document).ready(function() { 
            	
            	var xmlhttp;
            	
	            if (window.XMLHttpRequest){  
	              xmlhttp=new XMLHttpRequest();
	            } else {
	              xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	            }
	            
	            xmlhttp.open("POST", "../ApartmentWithDetails", false);
	            xmlhttp.send();

	            var jsonResponse = JSON.parse(xmlhttp.responseText);
				
	            //get Elements By Id
	            
	       
	           	document.getElementById("noOfRooms").innerHTML = jsonResponse.number_rooms;
	           	document.getElementById("noOfBeds").innerHTML = jsonResponse.beds;
	           	document.getElementById("noOfBathrooms").innerHTML = jsonResponse.bathrooms;
	           	document.getElementById("noOfBedrooms").innerHTML = jsonResponse.bedrooms;
	           	document.getElementById("roomType").innerHTML = jsonResponse.type;
	           	document.getElementById("LivingRoom").innerHTML = jsonResponse.livingroom;
	           	document.getElementById("Wifi").innerHTML = jsonResponse.wifi;
	           	document.getElementById("AirCondition").innerHTML = jsonResponse.aircondition;
	           	document.getElementById("heating").innerHTML = jsonResponse.heating;
	           	document.getElementById("tv").innerHTML = jsonResponse.tv;	
	           	document.getElementById("kitchen").innerHTML = jsonResponse.kitchen;
	           	document.getElementById("parking").innerHTML = jsonResponse.parking;
	           	document.getElementById("elevator").innerHTML = jsonResponse.elevator;
	           	document.getElementById("space").innerHTML = jsonResponse.capacity;
	           	document.getElementById("maxTenants").innerHTML = jsonResponse.max_tenants;
	           	document.getElementById("costPerDay").innerHTML = jsonResponse.costPerDay;
	           	document.getElementById("minCost").innerHTML = jsonResponse.min_cost_booking;
	           	document.getElementById("costPerPerson").innerHTML = jsonResponse.cost_per_person;
	           	
	           	document.getElementById("description").innerHTML = jsonResponse.description;
	           	document.getElementById("smoking").innerHTML = jsonResponse.smoking; 	
	           	document.getElementById("events").innerHTML = jsonResponse.events;
	           	document.getElementById("pets").innerHTML = jsonResponse.pets;
	           	document.getElementById("minDays").innerHTML = jsonResponse.min_days_booking;
	           	
	           	document.getElementById("freeDates").innerHTML = jsonResponse.fullDates;
	           	document.getElementById("fullAddress").innerHTML = jsonResponse.fullAddress;
	           	
	           	//document.getElementById("myMap").src = jsonResponse.map + "&output=embed";
	           	document.getElementById("transportation").innerHTML = jsonResponse.transportation;
	           	
	           	
	           	document.getElementById("fromDate").innerHTML = jsonResponse.from_date;
	           	document.getElementById("toDate").innerHTML = jsonResponse.from_date;
	           	document.getElementById("fromDateTxt").value = jsonResponse.from_date;
	           	document.getElementById("toDateTxt").value = jsonResponse.from_date;
	        	
	        	document.getElementById("critics").innerHTML = jsonResponse.critics;
	        	document.getElementById("avgCritic").innerHTML = jsonResponse.avgCritic;
	        	
	           	//document.getElementById("photosHost").innerHTML = jsonResponse.fullAddress;
	           //document.getElementById("morePhotos").innerHTML = jsonResponse.fullAddress;
	           //document.getElementById("imgPath").innerHTML = jsonResponse.fullAddress; 
	            
	        });
        </script>
        
        
        
        
		<title>Apartment Info</title>
	</head>
	<body>
		<div id ="wrapper">
	
			<div id = "header">
			<!-- register/login -->	
				<table class="headerTable">
					<tr>
			    		<td ><a href="../WelcomePage.html"><div id ="logo"></div></a></td>
			    		<td>
			    			<div id = "register_login">
			    				<a class="btn" href="javascript:login('show'); "><i class="glyphicon glyphicon-log-in"></i> Είσοδος ή Εγγραφή</a>
			    			</div>
			    			<div class="dropdown" id="user_logged" style="display:none">
								<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
									<i class="glyphicon glyphicon-home"></i> Συνδεδεμένος
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
									<li><a class="nav-item" href="../ChooseUserServlet"><i class="glyphicon glyphicon-user"></i> Προφίλ</a></li>
									<li><a class="nav-item" href="../LogoutServlet"><i class="glyphicon glyphicon-log-out"></i> Έξοδος</a></li>
								</ul>
							</div>
			    		</td>
			  		</tr>
		  		</table>		
			
			</div>
		
			
			
			<div id= "mainContainer">
				<div class="container" id="cont">
					<div id="image">
						<img id="imgPath" class="img-responsive" width="500" height="500">
					</div>
					<div id="details">
					<h4><strong>Λεπτομέρειες Χώρου</strong></h4>	
						<table class="table table-hover">
					         <tr>
					           <td>Αριθμός Δωματίων</td>
					           <td id="noOfRooms"></td>
					         </tr>
					         <tr>
					           <td>Αριθμός Κρεβατιών</td>
					           <td id="noOfBeds"></td>
					         </tr>
					         <tr>
					           <td>Αριθμός Μπάνιων</td>
					           <td id="noOfBathrooms"></td>
					         </tr>
					         <tr>
					           <td>Αριθμός Υπνοδωματιών</td>
					           <td id="noOfBedrooms"></td>
					         </tr>
					         <tr>
					           <td>Τύπος Ενοικιαζόμενου Χώρου</td>
					           <td id="roomType"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Καθιστικού</td>
					           <td id="LivingRoom"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Wifi</td>
					           <td id="Wifi"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Aircondition</td>
					           <td id="AirCondition"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Θέρμανσης</td>
					           <td id="heating"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Κουζίνας</td>
					           <td id="kitchen"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Τηλεόρασης</td>
					           <td id="tv"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Parking</td>
					           <td id="parking"></td>
					         </tr>
					         <tr>
					           <td>Ύπαρξη Ανελκυστήρα</td>
					           <td id="elevator"></td>
					         </tr>
					         <tr>
					           <td>Εμβαδό Χώρου (σε τ.μ.)</td>
					           <td id="space"></td>
					         </tr>
					         <tr>
					           <td>Μέγιστος αριθμός ατόμων</td>
					           <td id="maxTenants"></td>
					         </tr>
					         <tr>
					           <td>Κόστος ανά ημέρα (σε €)</td>
					           <td id="costPerDay"></td>
					         </tr>
					         <tr>
					           <td>Ελάχιστη τιμή ενοικίασης (σε €)</td>
					           <td id="minCost"></td>
					         </tr>
					         <tr>
					           <td>Επιπλέον κόστος ανά άτομο (σε €)</td>
					           <td id="costPerPerson"></td>
					         </tr>
					        </table>
					        
					        
					        <h4><strong>Περιγραφή του χώρου</strong></h4>
				           	<p id="description"></p>
							
							<div id="rules">
								<h4><strong>Κανόνες Ενοικίασης</strong></h4>	
						        <table class="table table-hover">
						         <tr>
						           <td>Επιτρέπετεται το Κάπνισμα</td>
						           <td id="smoking"></td>
						         </tr>
						         <tr>
						           <td>Επιτρέπονται τα κατοικίδια</td>
						           <td id="pets"></td>
						         </tr>
						         <tr>
						           <td>Επιτρέπονται οι εκδηλώσεις</td>
						           <td id="events"></td>
						         </tr>
						         <tr>
						           <td>Ελάχιστος αριθμός ημερών ενοικίασης</td>
						           <td id="minDays"></td>
						         </tr> 
					       		</table>
				      		 </div>
				      		 
				      		 <div id="dates">
				      			<h4><strong>Διαθέσιμες Ημερομηνίες</strong></h4>
				      			<p id="freeDates"></p> 
				      		 </div>
				      		 
				      		
				       <div id= "map">
				       			
						       <div class="container">
									<div class="row-fluid">
									<!-- <h4><strong>Βρείτε μας στο χάρτη</strong></h4> 
								        <div class="span8">
								        <iframe  frameborder="0" scrolling="no" marginheight="0" marginwidth="0" id="myMap"></iframe>	
								    	</div> -->
								    	
								      	<div class="span4">
								    		<h2>Διεύθυνση</h2>
								    		<address>
								    			<p id="fullAddress"></p>
								    		</address>
								    	</div>
								    </div>
								</div> 
					     	</div>   
					     	
					     	 <div id="transport">
								<h4><strong>Πως θα μας βρείτε:</strong></h4>
									<p id="transportation"></p>
							</div>	
							
							<table id="photosHost" class="table">
								<!--<tr>
							       	<td>Επιπλέον Φωτογραφίες</td>
							       	<td >  <img  id="moreImages" class="img-responsive" width="300" height="300"></td> 
						      	</tr> -->	
						      	<tr>
							       	<td><a href="./hostDetails.html">Πληροφορίες για τον Οικοδεσπότη</a></td>
							       	<td style="margin-left:5%">   <img  class="img-responsive" src = "../Images/host.jpg" id="photosHost" width="300" height="300" margin-left:20%></td> 
						      	</tr>		
							</table> 
							<h4><strong>Κριτικές</strong></h4>	
							<table class="table table-hover">
					         <tr>
					           <td>Αριθμός Κριτικών</td>
					           <td id="critics"></td>
					         </tr>
					         <tr>
					           <td>Κριτική (0-5)</td>
					           <td id="avgCritic"></td>
					         </tr>
					         </table>
							
							<div id="submit">
						
							<form method="post" action="../BookARoom">
								<input type="text" id="fromDateTxt" name="fromDateTxt" style="display:none">
								<input type="text" id="toDateTxt" name="toDateTxt" style="display:none">
								<p>Επιθυμείτε να κλείσετε το δωμάτιο αυτό για τις ημερομηνίες 
								<strong id="fromDate"></strong> μέχρι 
								<strong id="toDate"></strong>;
								</p>
								<div class="form-group" style="text-align:center; "> <!-- Submit button -->
								<a href="apartmentResultsGeneral.html" id="cancel" name="cancel" class="btn btn-danger" style="margin-right:20%;"><i class="glyphicon glyphicon-remove"></i> Ακύρωση</a>
							<button class="btn btn-primary " name="submit" type="submit"><i class="glyphicon glyphicon-check"></i> Υποβολή Κράτησης</button>
							      
					      
							</div>
							
	
						</form>
					</div> 
							
					</div>
					
					
					
				</div>
				
				

			</div>
			
		
		
			<div id = "footer">
				<!-- footer -->
				<div class="links">	
					<a href="">Sitemap</a>
					<p style="margin-top:8px">Copyright &copy; 2017-2018 <a href="../WelcomePage.html">Book A Room</a></p>
				</div>
			</div>	
		
		</div>


		<div id="popup" style="display:none;text-align:center">
			<form name="login" action="../LoginServlet" method="post">
				<center>Όνομα Χρήστη</center>
				<center><input class="form-control" placeholder="Εισαγωγή Ονόματος Χρήστη" name="username" size="45" maxlength="45" style="margin-top:10px;" required/></center>
				<center style="margin-top:10px;">Κωδικός Πρόσβασης</center>
				<center><input class="form-control" type="password" placeholder="Εισαγωγή Κωδικού Πρόσβασης" name="password" size="45" maxlength="45" style="margin-top:10px;" required/></center>
				<center><button class="btn btn-primary" type="submit" name="login" style="margin-top:10px;"/><i class="glyphicon glyphicon-log-in"></i> Είσοδος</center>
				<center style="margin-top:10px;"><a href="#">Ξέχασα τον κωδικό</a></center>
				<center style="margin-top:10px;"><a href="register.html" class="btn btn-info"><i class="glyphicon glyphicon-book"></i> Εγγραφή</a></center>
				<center><a class="btn btn-danger btn-sm" href="javascript:login('hide');" style="margin-top:50px;" ><i class="glyphicon glyphicon-remove"></i> Ακύρωση</a></center>
			</form>
		</div>
	
	
	</body>
</html>